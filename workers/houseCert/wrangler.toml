# Cloudflare Worker project for issuing House Bet Certificates
name = "house-cert"
main = "src/index.ts"
compatibility_date = "2024-09-10"

# If you prefer explicit account binding, uncomment and set your account_id.
# You are logged in; wrangler can infer this from your session.
# account_id = "" # e.g., 6bbfd1f7f411d4a625d32beed6a766b9 (non-secret)

[vars]
# No vars required; JWKS is derived from HOUSE_PRIV_KEY_PEM.

# Secrets are set with `wrangler secret put NAME` and not stored in code.
# HOUSE_PRIV_KEY_PEM (secret) should be set before deploying.

[[kv_namespaces]]
# KV namespace for join-token usage and basic replay protection
binding = "CERT_LEDGER"
id = "db2b30f346794573a54f42225cc94669"
# Use dev KV namespace when running `wrangler dev`
preview_id = "378e25f7c27f4e718d851cb14b7a6f7a"
